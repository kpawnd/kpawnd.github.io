<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kpawnd</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; color: #fff; font-family: 'Courier New', monospace; overflow: hidden; width: 100vw; height: 100vh; }
        #viewport { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(1.04); filter: blur(0.4px); width: 95vw; height: 90vh; image-rendering: pixelated; }
        #terminal { width: 100%; height: 100%; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; background: #000; color: #fff; position: relative; }
        #output { flex: 1; white-space: pre-wrap; word-wrap: break-word; }
        .line { margin: 2px 0; }
        .command { opacity: 0.8; }
        .error { color: #fff; opacity: 0.7; }
        .info { color: #fff; opacity: 0.6; }
        .boot { color: #fff; animation: fadeIn 0.3s; opacity: 0.75; }
        #input-line { display: flex; align-items: center; margin-top: 10px; }
        #prompt { color: #fff; margin-right: 8px; white-space: nowrap; }
        #input { flex: 1; background: transparent; border: none; outline: none; color: #fff; font-family: inherit; font-size: inherit; caret-color: #fff; }
        #terminal::before { content: ''; position: absolute; left: 0; top: 0; right: 0; bottom: 0; background: repeating-linear-gradient(to bottom, rgba(255,255,255,0.022) 0px, rgba(255,255,255,0.022) 1px, transparent 2px, transparent 3px ); pointer-events: none; }
        #loading { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; color: #fff; }
        .spinner { border: 3px solid rgba(255,255,255,0.1); border-top: 3px solid #fff; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin-bottom: 20px; }
        @keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
        @keyframes fadeIn { from { opacity: 0;} to { opacity: 1;} }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #777; }
        #grub { width: 100%; height: 100%; background: #000; color: #d3d7cf; justify-content: center; align-items: center; padding: 40px; font-size: 13px; }
        #grub pre { text-align: left; line-height: 1.5; white-space: pre; font-family: 'Courier New', monospace; }
        .grub-selected { background: #d3d7cf; color: #000; font-weight: bold; }
        #graphics { position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; background: #000; display: none; z-index: 1000; }
        #game-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: block; image-rendering: pixelated; image-rendering: crisp-edges; }
        #game-info { position: absolute; top: 10px; left: 10px; color: #fff; font-size: 18px; text-shadow: 2px 2px 4px #000; z-index: 10; }
    </style>
</head>
<body>
    <div id="viewport">
      <div id="grub" style="display:none;">
        <pre></pre>
      </div>
      <div id="loading" style="display:none;"></div>
      <div id="terminal" style="display: none;">
        <div id="output"></div>
        <div id="input-line">
            <span id="prompt"></span>
            <input type="text" id="input" autofocus autocomplete="off" spellcheck="false">
        </div>
      </div>
      <div id="graphics">
        <div id="game-info"></div>
        <canvas id="game-canvas"></canvas>
      </div>
    </div>
    <script type="module" src="main.js"></script>
</body>
</html>
